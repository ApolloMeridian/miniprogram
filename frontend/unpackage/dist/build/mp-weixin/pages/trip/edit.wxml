<view class="data-v-657ac97e"><map style="width:100vw;height:calc(100vh - 580rpx);" id="map" latitude="{{latitude}}" longitude="{{longitude}}" markers="{{markers}}" polyline="{{polyline}}" show-location="{{true}}" data-event-opts="{{[['markertap',[['markerTap',['$event']]]]]}}" bindmarkertap="__e" class="data-v-657ac97e"></map><cover-view class="map-control u-flex flex-col data-v-657ac97e"><button data-event-opts="{{[['tap',[['clearSearch',['$event']]]]]}}" class="clear u-reset-button icon-circle u-flex u-col-center u-row-around u-m-b-20 data-v-657ac97e" bindtap="__e">清除搜索结果</button><button data-event-opts="{{[['tap',[['moveToStart',['$event']]]]]}}" class="primary u-reset-button icon-circle u-flex u-col-center u-row-around data-v-657ac97e" bindtap="__e">返回初始位置</button></cover-view><scroll-view class="cus-full-vw u-p-20 data-v-657ac97e" style="height:580rpx;" hidden="{{isEdit}}" scroll-y="true"><view class="record u-flex flex-col cus-full-pw data-v-657ac97e"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="record-item u-flex u-row-between cus-full-pw u-p-t-20 u-p-b-20 u-border-bottom data-v-657ac97e"><view class="record-item__info u-flex flex-col u-col-top data-v-657ac97e"><view class="u-font-xl data-v-657ac97e" style="{{'color:'+(polyline[index+1].color)+';'+('font-weight:'+('bold')+';')}}">{{'第'+(index+1)+'条'}}<u-tag class="u-m-l-20 data-v-657ac97e" vue-id="{{'4db3024a-1-'+index}}" text="{{item.$orig.transportation}}" type="primary" mode="plain" shape="circle" size="mini" bind:__l="__l"></u-tag><u-tag class="u-m-l-10 data-v-657ac97e" vue-id="{{'4db3024a-2-'+index}}" text="{{item.$orig.purpose}}" type="success" mode="plain" shape="circle" size="mini" bind:__l="__l"></u-tag></view><view class="u-font-sm u-m-t-30 content-color data-v-657ac97e">{{''+item.m0+"-"+item.m1+''}}</view></view><view class="record-item__action u-flex u-col-center data-v-657ac97e"><view data-event-opts="{{[['tap',[['editRecord',[index]]]]]}}" class="icon-circle bg-primary u-flex u-row-around u-col-center data-v-657ac97e" bindtap="__e"><u-icon vue-id="{{'4db3024a-3-'+index}}" name="edit-pen" class="data-v-657ac97e" bind:__l="__l"></u-icon></view><view data-event-opts="{{[['tap',[['removeRecord',[index]]]]]}}" class="icon-circle bg-error u-flex u-row-around u-col-center u-m-l-20 data-v-657ac97e" bindtap="__e"><u-icon vue-id="{{'4db3024a-4-'+index}}" name="trash" class="data-v-657ac97e" bind:__l="__l"></u-icon></view></view></view></block></view><u-button vue-id="4db3024a-5" type="primary" data-event-opts="{{[['^click',[['addRecord']]]]}}" bind:click="__e" class="data-v-657ac97e" bind:__l="__l" vue-slots="{{['default']}}"><u-icon vue-id="{{('4db3024a-6')+','+('4db3024a-5')}}" name="plus" class="data-v-657ac97e" bind:__l="__l"></u-icon>新增出行记录</u-button></scroll-view><view class="edit-area cus-full-vw u-p-20 data-v-657ac97e" style="height:580rpx;" hidden="{{!isEdit}}"><u-search vue-id="4db3024a-7" placeholder="输入地点搜索" disabled="{{true}}" show-action="{{false}}" input-align="center" value="{{keyword}}" data-event-opts="{{[['^click',[['chooseLocation']]],['^input',[['__set_model',['','keyword','$event',[]]]]]]}}" bind:click="__e" bind:input="__e" class="data-v-657ac97e" bind:__l="__l"></u-search><u-form class="edit-area__form u-flex u-col-center cus-full-pw data-v-657ac97e vue-ref" vue-id="4db3024a-8" model="{{model}}" rules="{{rules}}" errorType="{{errorType}}" data-ref="uForm" bind:__l="__l" vue-slots="{{['default']}}"><view class="form-row u-flex data-v-657ac97e"><u-form-item class="form-row__item data-v-657ac97e" vue-id="{{('4db3024a-9')+','+('4db3024a-8')}}" label-position="left" label="{{rules.start_markerId.label}}" label-width="120" required="{{true}}" prop="start_markerId" bind:__l="__l" vue-slots="{{['default']}}"><u-input class="{{['data-v-657ac97e',currentSelect=='start_markerId'?'input-active':'']}}" vue-id="{{('4db3024a-10')+','+('4db3024a-9')}}" border="{{false}}" type="number" placeholder="选择起点" disabled="{{true}}" value="{{model.start_markerId}}" data-event-opts="{{[['^click',[['e0']]],['^input',[['__set_model',['$0','start_markerId','$event',[]],['model']]]]]}}" bind:click="__e" bind:input="__e" bind:__l="__l"></u-input></u-form-item><u-form-item class="form-row__item data-v-657ac97e" vue-id="{{('4db3024a-11')+','+('4db3024a-8')}}" label-position="left" label="{{rules.end_markerId.label}}" label-width="120" required="{{true}}" prop="end_markerId" bind:__l="__l" vue-slots="{{['default']}}"><u-input class="{{['data-v-657ac97e',currentSelect=='end_markerId'?'input-active':'']}}" vue-id="{{('4db3024a-12')+','+('4db3024a-11')}}" border="{{false}}" type="number" placeholder="选择终点" disabled="{{true}}" value="{{model.end_markerId}}" data-event-opts="{{[['^click',[['e1']]],['^input',[['__set_model',['$0','end_markerId','$event',[]],['model']]]]]}}" bind:click="__e" bind:input="__e" bind:__l="__l"></u-input></u-form-item></view><view class="form-row u-flex data-v-657ac97e"><u-form-item class="form-row__item data-v-657ac97e" vue-id="{{('4db3024a-13')+','+('4db3024a-8')}}" label-position="left" label="{{rules.transportation.label}}" label-width="120" required="{{true}}" prop="transportation" bind:__l="__l" vue-slots="{{['default']}}"><u-input class="{{['data-v-657ac97e',currentSelect=='transportation'?'input-active':'']}}" vue-id="{{('4db3024a-14')+','+('4db3024a-13')}}" border="{{false}}" type="select" select-open="{{selectShow&&currentSelect=='transportation'}}" placeholder="请选择" value="{{model.transportation}}" data-event-opts="{{[['^click',[['e2']]],['^input',[['__set_model',['$0','transportation','$event',[]],['model']]]]]}}" bind:click="__e" bind:input="__e" bind:__l="__l"></u-input></u-form-item><u-form-item class="form-row__item data-v-657ac97e" vue-id="{{('4db3024a-15')+','+('4db3024a-8')}}" label-position="left" label="{{rules.purpose.label}}" label-width="120" required="{{true}}" prop="purpose" bind:__l="__l" vue-slots="{{['default']}}"><u-input class="{{['data-v-657ac97e',currentSelect=='purpose'?'input-active':'']}}" vue-id="{{('4db3024a-16')+','+('4db3024a-15')}}" border="{{false}}" type="select" select-open="{{selectShow&&currentSelect=='purpose'}}" placeholder="请选择" value="{{model.purpose}}" data-event-opts="{{[['^click',[['e3']]],['^input',[['__set_model',['$0','purpose','$event',[]],['model']]]]]}}" bind:click="__e" bind:input="__e" bind:__l="__l"></u-input></u-form-item></view></u-form><view class="edit-area__btn cus-full-pw u-flex u-m-t-20 data-v-657ac97e"><u-button vue-id="4db3024a-17" type="primary" size="medium" data-event-opts="{{[['^click',[['submit']]]]}}" bind:click="__e" class="data-v-657ac97e" bind:__l="__l" vue-slots="{{['default']}}">保存</u-button><u-button vue-id="4db3024a-18" size="medium" data-event-opts="{{[['^click',[['closeForm']]]]}}" bind:click="__e" class="data-v-657ac97e" bind:__l="__l" vue-slots="{{['default']}}">取消</u-button></view></view><u-select vue-id="4db3024a-19" mode="single-column" list="{{selectList}}" value="{{selectShow}}" data-event-opts="{{[['^confirm',[['selectConfirm']]],['^input',[['__set_model',['','selectShow','$event',[]]]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-657ac97e" bind:__l="__l"></u-select></view>